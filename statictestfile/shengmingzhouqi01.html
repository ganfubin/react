<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<title>Document</title>
	<script src="reactCommonJs/react-with-addons.js"></script>
	<script src="reactCommonJs/react-dom.js"></script>
	<script src="reactCommonJs/browser.min.js"></script>
	<script src="reactCommonJs/jquery.js"></script>
	<script type="text/babel">
	var ShengMingZhouQi=React.createClass({
		getInitialState:function() {
		    console.log('组建正在初始化state值');
		    return {
		    	count:0,
		    	message:"code is great!!!"
		    }
		},
		getDefaultProps:function() {
			console.log('组建正在初始化props值');
		},
		componentWillMount:function(){
			var self=this;
			this.timer=setInterval(function(){
				self.setState({
					count:self.state.count+1
				})
			},1000);
			console.log('组件将要被装载');/*在此处设置state时只会render一次，而在componentDidMount时会执行两次,*/
                                  this.setState({
				message:"xsda"
			});
		},
		componentDidMount:function(){
			console.log('组建已经被装载');/*这里比较适合做ajax操作*/
		},
		componentWillUnmount:function() {
			console.log('组建将要被删除了!');
			clearInterval(this.timer);
		},
		deleteComponentHandle:function(){
			if(confirm("确定要删除该组建吗?")){
			ReactDOM.unmountComponentAtNode($('#demo')[0]);
			}
		},
		render:function(){
			console.log('开始在render渲染!');
			return (
				<div>
					<h1>{this.state.message}{this.state.count}</h1>
					<button onClick={this.deleteComponentHandle}>删除</button>
					<Submessage></Submessage>
				</div>

				)
		}
	});
	var Submessage=React.createClass({
		render:function(){
			return (
			<h3>Code is my dream!</h3>
				)
		}
	})


		ReactDOM.render(<ShengMingZhouQi></ShengMingZhouQi>,$('#demo')[0]);
	</script>
</head>
<body>
	<div id="demo"></div>
</body>
</html>